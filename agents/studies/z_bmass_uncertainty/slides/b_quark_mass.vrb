\frametitle{Backup: Exact B-hadron Selection Code}
\begin{block}{Implementation}
\begin{verbatim}
// Source of truth: external library helper (ThePEG::PDT, from its .hpp)
// Treat this external helper as authoritative for B-hadron ID
if (status[i] != 1 && status[i] != 2) continue;
const int apdg = std::abs(pdgId[i]);
if (!ThePEG::PDT::hasBottom(apdg)) continue;
idx.push_back((int)i);

// Histmaker usage
df = df.Define("bHadIdx", "wrem::finalStateBHadronIdx(GenPart_pdgId, GenPart_status)")
df = df.Define("bHad_pt", "Take(GenPart_pt, bHadIdx)")
df = df.Define("nBhad", "static_cast<int>(bHad_pt.size())")
df = df.Define("bottom_sel", "(bHad_pt.size() >= 1)")
\end{verbatim}
\end{block}
